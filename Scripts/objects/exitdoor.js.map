{"version":3,"sources":["objects/exitdoor.ts"],"names":[],"mappings":"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","file":"objects/exitdoor.js","sourcesContent":["module objects {\r\n    export class ExitDoor {\r\n        bodyDef: Box2D.Dynamics.b2BodyDef;\r\n        fixDef: Box2D.Dynamics.b2FixtureDef;\r\n        fixDefShape: Box2D.Collision.Shapes.b2PolygonShape;\r\n        view: createjs.Shape;\r\n        body;\r\n        x: number;\r\n        y: number;\r\n        width: number;\r\n        height: number;\r\n        constructor(x, y) {\r\n            this.x = x;\r\n            this.y = y;\r\n            this.width = 2;\r\n            this.height = 4;\r\n\r\n            this.createFixtureDefinition();\r\n            this.createBodyDefinition();\r\n            this.createExitDoor();\r\n\r\n        }\r\n\r\n        createFixtureDefinition() {\r\n            this.fixDef = new box2d.b2FixtureDef();\r\n            this.fixDef.density = 1.0;\r\n\r\n            // Define the shape, which will be a Polygon\r\n            this.fixDefShape = new box2d.b2PolygonShape();\r\n            this.fixDefShape.SetAsBox(this.width, this.height);\r\n            this.fixDef.shape = this.fixDefShape;\r\n        }\r\n\r\n        createBodyDefinition() {\r\n            this.bodyDef = new box2d.b2BodyDef();\r\n            this.bodyDef.type = box2d.b2Body.b2_staticBody;\r\n            this.bodyDef.userData = {};\r\n            this.bodyDef.userData.objType = 'exit door';\r\n            this.bodyDef.position.x = this.x;\r\n            this.bodyDef.position.y = this.y;\r\n        }\r\n\r\n        createExitDoor() {\r\n            var position;\r\n            // Add door to world\r\n            this.body = world.CreateBody(this.bodyDef)\r\n            this.body.CreateFixture(this.fixDef);\r\n\r\n            position = this.body.GetPosition();\r\n\r\n            // Creates a new Shape object\r\n            this.view = new createjs.Shape();\r\n            this.view.regX = this.width * config.Screen.SCALE;\r\n            this.view.regY = this.height * config.Screen.SCALE;\r\n\r\n            // TODO: It appears this polygon overlaps everything in the stage\r\n            // so I set the alpha to 0.3 to make the exit sign visible\r\n            this.view.graphics.beginFill(\"rgba(0,255,0,0.3)\")\r\n                .drawRect(\r\n                position.x * config.Screen.SCALE,\r\n                position.y * config.Screen.SCALE,\r\n                this.width * 2 * config.Screen.SCALE,\r\n                this.height * 2 * config.Screen.SCALE);\r\n\r\n            var doorLabel = new objects.Label(\r\n                'EXIT', '10px Consolas', \"#000000\",\r\n                this.x * config.Screen.SCALE, \r\n                (this.y * config.Screen.SCALE) - 20);\r\n            stage.addChild(doorLabel);\r\n\r\n        }\r\n    }\r\n} "],"sourceRoot":"/source/"}