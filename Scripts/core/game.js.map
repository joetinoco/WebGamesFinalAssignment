{"version":3,"sources":["core/game.ts"],"names":[],"mappings":"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","file":"core/game.js","sourcesContent":["/// <reference path=\"_references.ts\" />\r\n\r\n// global variables\r\nvar assets: createjs.LoadQueue;\r\nvar canvas: HTMLElement;\r\nvar stage: createjs.Stage;\r\nvar stats: Stats;\r\n\r\nvar currentScene: objects.Scene;\r\nvar scene: number;\r\n\r\n// Game Scenes\r\nvar menu: scenes.Menu;\r\nvar gameOver: scenes.GameOver;\r\nvar instructions: scenes.Instructions;\r\nvar level: scenes.Level;\r\nvar level2: scenes.Level;\r\n\r\n// Physics Variables # Should be here? (global)\r\nvar world: Box2D.Dynamics.b2World;\r\nvar reality: objects.Reality;\r\n\r\n\r\n// var assetData:objects.Asset[] = [\r\n//     {id: \"BackButton\", src:\"../../Assets/images/BackButton.png\"},\r\n//     {id: \"Nextbutton\", src:\"../../Assets/images/Nextbutton.png\"},\r\n//     {id: \"StartButton\", src:\"../../Assets/images/StartButton.png\"},\r\n//     {id: \"MenuBackground\", src: \"../../Assets/images/MenuBackground.jpg\" },\r\n//     {id: \"GameOverBackground\", src: \"../../Assets/images/GameOverBackground.jpg\" },\r\n//     {id: \"StartOverButton\", src:\"../../Assets/images/StartOverButton.png\"},\r\n//     {id: \"ResetButton\", src:\"../../Assets/images/ResetButton.png\"},\r\n//     {id: \"QuitButton\", src:\"../../Assets/images/QuitButton.png\"},\r\n//     {id: \"BlackBackground\", src:\"../../Assets/images/BlackBackground.png\"},\r\n//     {id: \"WhiteBackground\", src:\"../../Assets/images/WhiteBackground.png\"}\r\n// ];\r\n\r\n// function preload() {\r\n//     assets = new createjs.LoadQueue();\r\n//     assets.installPlugin(createjs.Sound);\r\n//     assets.on(\"complete\", init, this);\r\n//     assets.loadManifest(assetData);\r\n// }\r\n\r\nfunction preload(): void {\r\n    managers.Assets.init();\r\n    managers.Assets.loader.addEventListener(\"complete\", init);\r\n}\r\n\r\nfunction init(): void {\r\n    // create a reference the HTML canvas Element\r\n    canvas = config.ARCADE_CANVAS;\r\n\r\n    // Setup box2d reality (here?)\r\n    reality = new objects.Reality();\r\n\r\n    // create our main display list container\r\n    stage = new createjs.Stage(canvas);\r\n\r\n    // Enable mouse events\r\n    stage.enableMouseOver(20);\r\n\r\n    // set the framerate to 60 frames per second\r\n    createjs.Ticker.setFPS(config.Game.FPS);\r\n\r\n    // create an event listener to count off frames\r\n    createjs.Ticker.on(\"tick\", gameLoop, this);\r\n\r\n    // sets up our stats counting workflow\r\n    setupStats();\r\n\r\n    // set initial scene (or skip it depending on the URL)\r\n    if (location.search) scene = Number(location.search[1]);\r\n    else scene = config.Scene.MENU;\r\n    changeScene();\r\n}\r\n\r\n// Main Game Loop function that handles what happens each \"tick\" or frame\r\nfunction gameLoop(event: createjs.Event): void {\r\n    // start collecting stats for this frame\r\n    stats.begin();\r\n\r\n    // calling State's update method\r\n    currentScene.update();\r\n\r\n    // redraw/refresh stage every frame\r\n    stage.update();\r\n\r\n    reality.update(); // (here?)\r\n\r\n    // stop collecting stats for this frame\r\n    stats.end();\r\n}\r\n\r\n// Setup Game Stats\r\nfunction setupStats(): void {\r\n    stats = new Stats();\r\n    stats.setMode(0); // shows fps\r\n    stats.domElement.style.position = \"absolute\";\r\n    stats.domElement.style.left = \"0px\";\r\n    stats.domElement.style.top = \"0px\";\r\n    document.body.appendChild(stats.domElement);\r\n}\r\n\r\n// Finite State Machine used to change Scenes\r\nfunction changeScene(): void {\r\n\r\n    // Launch various scenes\r\n    switch (scene) {\r\n        case config.Scene.MENU:\r\n            // show the MENU scene\r\n            stage.removeAllChildren();\r\n            menu = new scenes.Menu();\r\n            currentScene = menu;\r\n            console.log(\"Starting MENU Scene\");\r\n            break;\r\n        case config.Scene.INSTRUCTIONS:\r\n            // show the Instructions scene\r\n            stage.removeAllChildren();\r\n            instructions = new scenes.Instructions();\r\n            currentScene = instructions;\r\n            console.log(\"Starting INSTRUCTIONS Scene\");\r\n            break;\r\n        case config.Scene.LEVEL_1:\r\n            // show the LEVEL scene\r\n            stage.removeAllChildren();\r\n            // Create a new reality ¯\\_(ツ)_/¯\r\n            reality = new objects.Reality();\r\n            level = new scenes.Level(managers.LevelElements.Level_1);\r\n            currentScene = level;\r\n            console.log(\"Starting LEVEL_1 Scene\");\r\n            break;\r\n        case config.Scene.LEVEL_2:\r\n            // show the LEVEL scene\r\n            stage.removeAllChildren();\r\n            // Create a new reality ¯\\_(ツ)_/¯\r\n            reality = new objects.Reality();\r\n            level2 = new scenes.Level(managers.LevelElements.Level_2);\r\n            currentScene = level2;\r\n            console.log(\"Starting LEVEL_2 Scene\");\r\n            break;\r\n        case config.Scene.GAME_OVER:\r\n            // show the game OVER scene\r\n            stage.removeAllChildren();\r\n            // Create a new reality ¯\\_(ツ)_/¯\r\n            reality = new objects.Reality();\r\n            gameOver = new scenes.GameOver();\r\n            currentScene = gameOver;\r\n            console.log(\"Starting GAME_OVER Scene\");\r\n            break;\r\n    }\r\n\r\n    console.log(currentScene.numChildren);\r\n}\r\n\r\n"],"sourceRoot":"/source/"}