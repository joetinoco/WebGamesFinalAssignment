{"version":3,"sources":["game.ts"],"names":[],"mappings":"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","file":"game.js","sourcesContent":["/// <reference path=\"_references.ts\" />\r\n/// <reference path=\"box2d.ts\" />\r\n/// <reference path=\"config.ts\" />\r\n/// <reference path=\"keys.ts\" />\r\n/// <reference path=\"controls.ts\" />\r\n/// <reference path=\"managers/asset.ts\" />\r\n/// <reference path=\"objects/label.ts\" />\r\n/// <reference path=\"objects/scoreboard.ts\" />\r\n/// <reference path=\"objects/reality.ts\" />\r\n/// <reference path=\"objects/platform.ts\" />\r\n/// <reference path=\"objects/hero.ts\" />\r\n/// <reference path=\"objects/enemy.ts\" />\r\n/// <reference path=\"objects/coin.ts\" />\r\n\r\n// Game Variables\r\nvar arcadeCanvas;\r\nvar debugCanvas;\r\nvar stats: Stats;\r\nvar stage: createjs.Stage;\r\nvar ground: objects.Platform;\r\n\r\n// Physics Variables\r\nvar world: Box2D.Dynamics.b2World;\r\nvar reality: objects.Reality;\r\n\r\n// Game Objects\r\nvar hero: objects.Hero;\r\nvar coin: objects.Coin;\r\nvar scoreboard: objects.Scoreboard;\r\n\r\nfunction preload(): void {\r\n    managers.Assets.init();\r\n    managers.Assets.loader.addEventListener(\"complete\", init);\r\n}\r\n\r\nfunction init(): void {\r\n    // Setup box2d reality\r\n    reality = new objects.Reality();\r\n    stage = new createjs.Stage(arcadeCanvas);\r\n    stage.enableMouseOver(20);\r\n    createjs.Ticker.setFPS(60);\r\n    createjs.Ticker.addEventListener(\"tick\", gameLoop);\r\n    setupStats();\r\n    gameStart();\r\n}\r\n\r\nfunction gameLoop(event): void {\r\n     // Start counting for FPS stats\r\n    if (config.SHOW_FPS) {\r\n        this.stats.begin();\r\n    } \r\n    hero.update();\r\n\r\n  //  scoreboard.update();\r\n\r\n    stage.update();\r\n\r\n    reality.update();\r\n\r\n    // End counting for FPS stats\r\n    if (config.SHOW_FPS) {\r\n        return this.stats.end();\r\n    } \r\n}\r\n\r\nfunction setupStats() {\r\n    // Uses stats.js\r\n    stats = new Stats();\r\n    stats.setMode(0)\r\n    stats.domElement.style.position = 'absolute';\r\n    stats.domElement.style.right = '0px';\r\n    stats.domElement.style.top = '0px';\r\n    document.body.appendChild(stats.domElement);\r\n}\r\n\r\nfunction gameStart(): void {\r\n\r\n    ground = new objects.Platform(9, 20, 40, 1);\r\n    stage.addChild(ground.view);\r\n\r\n    var leftWall = new objects.Platform(0, 0, 1, 40);\r\n    stage.addChild(leftWall.view);\r\n\r\n    var rightWall = new objects.Platform(26.6, 0, 1, 40);\r\n    stage.addChild(rightWall.view);\r\n\r\n    var platform1 = new objects.Platform(8, 16, 5, 1);\r\n    stage.addChild(platform1.view);\r\n\r\n    var platform2 = new objects.Platform(11, 12, 5, 1);\r\n    stage.addChild(platform2.view);\r\n\r\n    var platform3 = new objects.Platform(14, 8, 5, 1);\r\n    stage.addChild(platform3.view);\r\n\r\n    var platform4 = new objects.Platform(22, 5, 9, 1);\r\n    stage.addChild(platform4.view);\r\n\r\n    hero = new objects.Hero();\r\n    stage.addChild(hero.view);\r\n\r\n  //  scoreboard = new objects.Scoreboard();\r\n\r\n\r\n    var fixDef = new box2d.b2FixtureDef;\r\n    fixDef.density = 0.5;\r\n    fixDef.friction = 0.2;\r\n    fixDef.restitution = 0.5;\r\n\r\n    var bodyDef = new box2d.b2BodyDef;\r\n    var fixDefShape;\r\n\r\n    //create some objects\r\n/*    bodyDef.type = box2d.b2Body.b2_dynamicBody;\r\n    for (var i = 0; i < 10; ++i) {\r\n        if (Math.random() > 0.5) {\r\n            fixDefShape = new box2d.b2PolygonShape();\r\n            fixDefShape.SetAsBox(\r\n                Math.random() + 0.1 //half width\r\n                , Math.random() + 0.1 //half height\r\n                );\r\n            fixDef.shape = fixDefShape;\r\n        } else {\r\n            fixDefShape = new box2d.b2CircleShape(\r\n                Math.random() + 0.1 //radius\r\n                );\r\n            fixDef.shape = fixDefShape;\r\n        }\r\n        bodyDef.position.x = Math.random() * stage.canvas.width / config.SCALE;\r\n        bodyDef.position.y = Math.random() * stage.canvas.height / config.SCALE;\r\n        world.CreateBody(bodyDef).CreateFixture(fixDef);\r\n    } */\r\n\r\n}"],"sourceRoot":"/source/"}