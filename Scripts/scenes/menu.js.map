{"version":3,"sources":["scenes/menu.ts"],"names":[],"mappings":";;;;;AAAA,aAAa;AACb,IAAO,MAAM,CAoHZ;AApHD,WAAO,MAAM,EAAC,CAAC;IACX;QAA0B,wBAAa;QAOnC,qCAAqC;QACrC;YACI,iBAAO,CAAC;YACR,IAAI,CAAC,KAAK,EAAE,CAAC;QACjB,CAAC;QAED,uCAAuC;QAEvC,eAAe;QACR,oBAAK,GAAZ;YAEI,oCAAoC;YACpC,IAAI,CAAC,gBAAgB,GAAG,IAAI,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC,CAAC;YAChG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;YAErC,0BAA0B;YAC1B,IAAI,CAAC,gBAAgB,GAAG,IAAI,OAAO,CAAC,MAAM,CACtC,oBAAoB,EACpB,MAAM,CAAC,MAAM,CAAC,QAAQ,EACtB,MAAM,CAAC,MAAM,CAAC,QAAQ,EACtB,IAAI,CACP,CAAC;YACF,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;YAErC,mBAAmB;YACnB,IAAI,CAAC,SAAS,GAAG,IAAI,OAAO,CAAC,MAAM,CAC/B,aAAa,EACb,MAAM,CAAC,MAAM,CAAC,QAAQ,EACtB,MAAM,CAAC,MAAM,CAAC,QAAQ,GAAG,GAAG,EAC5B,IAAI,CACP,CAAC;YACF,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YAE9B,+BAA+B;YAC/B,IAAI,CAAC,oBAAoB,GAAG,IAAI,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,wBAAwB,CAAC,CAAC,CAAC;YAC5G,IAAI,CAAC,oBAAoB,CAAC,IAAI,GAAG,GAAG,GAAG,CAAC,CAAC;YACzC,IAAI,CAAC,oBAAoB,CAAC,IAAI,GAAG,GAAG,GAAG,CAAC,CAAC;YACzC,IAAI,CAAC,oBAAoB,CAAC,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC;YACrD,IAAI,CAAC,oBAAoB,CAAC,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC;YACrD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;YAEzC,qCAAqC;YACrC,IAAI,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,CAAC;YAEzC,SAAS;YACT,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YAElB,wBAAwB;YACxB,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC;YAErC,6CAA6C;YAC7C,iCAAiC;YACjC,IAAI,CAAC,EAAE,CAAC,cAAc,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;YACjD,IAAI,CAAC,EAAE,CAAC,YAAY,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;YAE/C,+CAA+C;YAC/C,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QACzB,CAAC;QAED,2BAA2B;QACpB,qBAAM,GAAb;QAEA,CAAC;QAKD,qCAAqC;QAE7B,2BAAY,GAApB;YACI,sCAAsC;YACtC,EAAE,CAAC,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,IAAI,MAAM,CAAC,MAAM,CAAC,QAAQ,GAAG,GAAG,CAAC,CAAC,CAAC;gBAC9D,IAAI,CAAC,oBAAoB,CAAC,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC;YACzD,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,IAAI,CAAC,oBAAoB,CAAC,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,QAAQ,GAAG,GAAG,CAAC;YAC/D,CAAC;QACL,CAAC;QAEO,2BAAY,GAApB;YACI,IAAI,SAAiB,CAAC;YACtB,EAAE,CAAC,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,IAAI,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAA,CAAC;gBACvD,SAAS,GAAG,MAAM,CAAC,KAAK,CAAC,YAAY,CAAC;YAC1C,CAAC;YAAC,IAAI;gBAAC,SAAS,GAAG,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC;YAExC,UAAU;YACV,YAAY,CAAC,QAAQ,CAAC,GAAG,EAAE;gBACvB,+BAA+B;gBAC/B,KAAK,GAAG,SAAS,CAAC;gBAClB,WAAW,EAAE,CAAC;YAClB,CAAC,CAAC,CAAC;QACP,CAAC;QAED,gBAAgB;QACR,6BAAc,GAAtB,UAAuB,CAAC;YAEpB,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;gBACd,KAAK,IAAI,CAAC,KAAK,CAAC;gBAChB,KAAK,IAAI,CAAC,QAAQ;oBACd,YAAY,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;oBACzC,KAAK,CAAC;gBAEV;oBACI,YAAY,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;oBAC3C,KAAK,CAAC;YACd,CAAC;QACL,CAAC;QAEL,WAAC;IAAD,CAlHA,AAkHC,CAlHyB,OAAO,CAAC,KAAK,GAkHtC;IAlHY,WAAI,OAkHhB,CAAA;AACL,CAAC,EApHM,MAAM,KAAN,MAAM,QAoHZ","file":"scenes/menu.js","sourcesContent":["// MENU SCENE\r\nmodule scenes {\r\n    export class Menu extends objects.Scene {\r\n        //PRIVATE INSTANCE VARIABLES ++++++++++++\r\n        private _backgroundImage: createjs.Bitmap;\r\n        private _btnInstructions: objects.Button;\r\n        private _btnStart: objects.Button;\r\n        private _btnSelectionOverlap: createjs.Bitmap;\r\n\r\n        // CONSTRUCTOR ++++++++++++++++++++++\r\n        constructor() {\r\n            super();\r\n            this.start();\r\n        }\r\n\r\n        // PUBLIC METHODS +++++++++++++++++++++\r\n\r\n        // Start Method\r\n        public start(): void {\r\n\r\n            // add background image to the scene\r\n            this._backgroundImage = new createjs.Bitmap(managers.Assets.loader.getResult(\"MenuBackground\"));\r\n            this.addChild(this._backgroundImage);\r\n\r\n            // add instructions button\r\n            this._btnInstructions = new objects.Button(\r\n                \"InstructionsButton\",\r\n                config.Screen.CENTER_X,\r\n                config.Screen.CENTER_Y,\r\n                true\r\n            );\r\n            this.addChild(this._btnInstructions);\r\n\r\n            // add start button\r\n            this._btnStart = new objects.Button(\r\n                \"StartButton\",\r\n                config.Screen.CENTER_X,\r\n                config.Screen.CENTER_Y + 100,\r\n                true\r\n            );\r\n            this.addChild(this._btnStart);\r\n\r\n            // Add button selection overlap\r\n            this._btnSelectionOverlap = new createjs.Bitmap(managers.Assets.loader.getResult(\"ButtonSelectionOverlap\"));\r\n            this._btnSelectionOverlap.regX = 431 / 2;\r\n            this._btnSelectionOverlap.regY = 100 / 2;\r\n            this._btnSelectionOverlap.x = config.Screen.CENTER_X;\r\n            this._btnSelectionOverlap.y = config.Screen.CENTER_Y;\r\n            this.addChild(this._btnSelectionOverlap);\r\n\r\n            // Setup \"Background\" for fade effect\r\n            this._setupBackground(\"WhiteBackground\");\r\n\r\n            // FadeIn\r\n            this._fadeIn(500);\r\n\r\n            // Bind start key action\r\n            window.onkeyup = this._startKeypress;\r\n\r\n            // Event handler to update the menu selection\r\n            // and trigger the selected scene\r\n            this.on('selectButton', this._swapButtons, this);\r\n            this.on('startScene', this._switchScene, this);\r\n\r\n            // add this scene to the global stage container\r\n            stage.addChild(this);\r\n        }\r\n\r\n        // INTRO Scene updates here\r\n        public update(): void {\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n        //EVENT HANDLERS ++++++++++++++++++++\r\n\r\n        private _swapButtons() {\r\n            // Swap buttons when a keypress occurs\r\n            if (this._btnSelectionOverlap.y == config.Screen.CENTER_Y + 100) {\r\n                this._btnSelectionOverlap.y = config.Screen.CENTER_Y;\r\n            } else {\r\n                this._btnSelectionOverlap.y = config.Screen.CENTER_Y + 100;\r\n            }\r\n        }\r\n\r\n        private _switchScene() {\r\n            var nextScene: number;\r\n            if (this._btnSelectionOverlap.y == config.Screen.CENTER_Y){\r\n                nextScene = config.Scene.INSTRUCTIONS;\r\n            } else nextScene = config.Scene.LEVEL_1;\r\n            \r\n            //FadeOut \r\n            currentScene._fadeOut(500, () => {\r\n                // Switch to the selected scene\r\n                scene = nextScene;\r\n                changeScene();\r\n            });\r\n        }\r\n\r\n        // any key press\r\n        private _startKeypress(e) {\r\n\r\n            switch (e.which) {\r\n                case keys.ENTER:\r\n                case keys.SPACEBAR:\r\n                    currentScene.dispatchEvent(\"startScene\");\r\n                    break;\r\n\r\n                default:\r\n                    currentScene.dispatchEvent(\"selectButton\");\r\n                    break;\r\n            }\r\n        }\r\n\r\n    }\r\n}"],"sourceRoot":"/source/"}